# OpenTelemetry Collector configuration for SWE-agent
# Forwards traces to Parseable for SQL-powered analysis

receivers:
  otlp:
    protocols:
      grpc:
        endpoint: 0.0.0.0:4317
      http:
        endpoint: 0.0.0.0:4318

processors:
  batch:
    timeout: 5s
    send_batch_size: 100

exporters:
  otlphttp/parseable:
    endpoint: https://1fb2bb88-48a3-44d0-8b4d-d2c266aff3b1-ingestor.workspace-staging.parseable.com
    encoding: json
    headers:
      Authorization: Basic ZGViYWJyYXRhQHBhcnNlYWJsZS5jb206UEJzTjFMSWpXZklpaXJqNg==
      X-P-Stream: swe-agent-traces
      x-p-log-source: otel-traces

  # Debug exporter for local development
  debug:
    verbosity: detailed

service:
  pipelines:
    traces:
      receivers: [otlp]
      processors: [batch]
      exporters: [otlphttp/parseable, debug]
